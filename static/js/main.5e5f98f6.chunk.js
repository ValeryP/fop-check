(this["webpackJsonpfop-check"]=this["webpackJsonpfop-check"]||[]).push([[0],{117:function(e,t,a){e.exports=a(162)},125:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),l=a(21),s=a(196),o=a(198),m=a(211),u=a(207),d=a(213),p=a(99),f=a.n(p),b=a(56),g=a(190),h=a(192),E=Object(g.a)((function(e){var t;return Object(h.a)({textField:(t={margin:e.spacing(4)},Object(b.a)(t,e.breakpoints.up("xs"),{minWidth:270}),Object(b.a)(t,e.breakpoints.up("sm"),{minWidth:500}),t)})}));function v(e){var t=e.updateResultsCallback,a=E(),c=Object(n.useState)(""),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(n.useState)(),d=Object(l.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){p&&clearTimeout(p),f(setTimeout((function(){t(s)}),500))}),[s]);return r.a.createElement(m.a,{className:a.textField,variant:"outlined",onChange:function(e){return e.persist(),new Promise((function(t,a){t(e.target.value)})).then((function(e){o(e)}))},label:"\u041f\u043e\u0448\u0443\u043a",placeholder:"\u0432\u0430\u0441\u0438\u043b\u044c \u0456\u0432\u0430\u043d\u043e\u0432\u0438\u0447, 40885849, \u043a\u0438\u0457\u0432"})}a(125);var y=a(197);function j(){return r.a.createElement(s.a,{container:!0,justify:"center",alignContent:"center",style:{textAlign:"center"}},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(y.a,{maxWidth:"xs",className:"loader",style:{maxWidth:75}},r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__bar"}),r.a.createElement("div",{className:"loader__ball"}))),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(o.a,{variant:"h4",style:{fontWeight:100,letterSpacing:4}},"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f")))}var O=a(40),k=a(74),x=a.n(k),w=function(e){var t={skipEmptyLines:!0,header:!0,download:!0,worker:!0,delimiter:","};x.a.parse("https://fop-check.s3.eu-central-1.amazonaws.com/map_type.csv",Object(O.a)(Object(O.a)({},t),{},{complete:function(a,n){var r=a.data.flatMap((function(e){return Object.keys(e).map((function(t){return e[t]}))}));x.a.parse("https://fop-check.s3.eu-central-1.amazonaws.com/map_map_department.csv",Object(O.a)(Object(O.a)({},t),{},{complete:function(a,n){var c=a.data.flatMap((function(e){return Object.keys(e).map((function(t){return e[t]}))}));x.a.parse("https://fop-check.s3.eu-central-1.amazonaws.com/db2020.csv",Object(O.a)(Object(O.a)({},t),{},{complete:function(t,a){e(t.data.map((function(e,t){return function(e,t,a,n){var r=String(n[Number(t.type_id)]),c=String(a[Number(t.department_id)]);return{index:e,name:t.name,address:t.address,code:t.code,type:r[0].toUpperCase()+r.slice(1),risk:t.risk,department:c[0].toUpperCase()+c.slice(1),date:t.date,duration:t.duration}}(t+1,e,c,r)})))}}))}}))}}))};var C=a(103),S=a.n(C),z=a(199),_=a(200),N=a(201),P=a(202),A=a(203),W=a(204),I=a(205),L=a(209),R=a(73),D=a(104),T=a.n(D),F=Object(g.a)((function(e){return Object(h.a)({paper:{height:"80vh"}})}));function M(e){var t=e.domains,a=e.items,n=F(),c=r.a.useState(0),i=Object(l.a)(c,2),s=i[0],o=i[1],m=r.a.useState(50),u=Object(l.a)(m,2),d=u[0],p=u[1],f=["index","name","address","code","type","risk","department","date","duration"],b={index:{name:"#",size:"1%",align:"center"},name:{name:"\u041f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u043e",size:"10%",align:"left"},address:{name:"\u0410\u0434\u0440\u0435\u0441\u0430",size:"20%",align:"left"},code:{name:"\u0404\u0414\u0420\u041f\u041e\u0423 \u0430\u0431\u043e \u0420\u041d\u041e\u041a\u041f\u041f",size:"4%",align:"center"},type:{name:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e",size:"20%",align:"left"},risk:{name:"\u0420\u0438\u0437\u0438\u043a",size:"5%",align:"left"},department:{name:"\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442",size:"30%",align:"left"},date:{name:"\u0414\u0430\u0442\u0430",size:"5%",align:"left"},duration:{name:"\u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c",size:"5%",align:"left"}};return r.a.createElement(N.a,{className:n.paper},r.a.createElement(P.a,{stickyHeader:!0,size:"small","aria-label":"custom pagination table"},r.a.createElement(A.a,null,r.a.createElement(z.a,{style:{background:R.a[100]}},f.map((function(e,t){return function(e,t){return r.a.createElement(_.a,{key:e,style:{width:b[t].size,textAlign:b[t].align}},b[t].name)}(t,e)})))),r.a.createElement(W.a,null,a.slice(s*d,s*d+d).map((function(e,a){return function(e,a){return r.a.createElement(z.a,{key:e},f.map((function(e,n){return r.a.createElement(_.a,{style:{verticalAlign:"top"},key:n},["name","address","code"].includes(e)?r.a.createElement(S.a,{searchWords:t,autoEscape:!0,highlightStyle:{fontWeight:"bold"},textToHighlight:a[e].toString()}):a[e])})))}(a,e)}))),r.a.createElement(I.a,null,r.a.createElement(z.a,null,r.a.createElement(L.a,{labelRowsPerPage:"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456:",rowsPerPageOptions:[50,100,250],count:a.length,rowsPerPage:d,page:s,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){p(parseInt(e.target.value,10)),o(0)},ActionsComponent:T.a})))))}var B=a(83),H=a.n(B);H.a.initializeApp({apiKey:"AIzaSyBIqAAJWmr18LDMMmekTtMzbDpQbRPNzZc",authDomain:"permesso-status-checker.firebaseapp.com",databaseURL:"https://permesso-status-checker.firebaseio.com",projectId:"permesso-status-checker",storageBucket:"permesso-status-checker.appspot.com",messagingSenderId:"124650216843",appId:"1:124650216843:web:13bd9d1bffe083fbdfe38e"});var J=H.a.firestore();var U=a(210),q=a(105);function K(e){return r.a.createElement(U.a,Object.assign({elevation:6,variant:"filled"},e))}var Q=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),p=Object(l.a)(i,2),b=p[0],g=p[1],h=Object(n.useState)([]),E=Object(l.a)(h,2),y=E[0],O=E[1],k=r.a.useState(),x=Object(l.a)(k,2),C=x[0],S=x[1],z=r.a.useState(!1),_=Object(l.a)(z,2),N=_[0],P=_[1],A=Object(n.useRef)("");Object(n.useEffect)((function(){g(!0),w((function(e){g(!1),O(e)}))}),[]);var W=a.trim().toLowerCase().split(/[, ]+/).map((function(e){return e.toString().trim()})).filter((function(e){return e})),I=y.filter((function(e){return W.map((function(t){return-1!=="".concat(e.name," ").concat(e.address," ").concat(e.code).toLowerCase().indexOf(t)})).some((function(e){return e}))})).map((function(e){return e.similarity=f.a.compareTwoStrings(a.trim().toLowerCase(),"".concat(e.name," ").concat(e.address," ").concat(e.code).toLowerCase()),e})).sort((function(e,t){return t.similarity<e.similarity?-1:1})).map((function(e,t){return e.index=t+1,e})),L=0===I.length&&0!==a.length,R=0===a.length;function D(){var e;q.validate(A.current)?(e={email:A.current,query:a,timestamp:new Date},J.collection("subscription").add(e)).then((function(){A.current="",S(!0)})):P(!0)}function T(e){A.current=e.target.value,P(!1)}function F(){S(!1),c("")}return r.a.createElement(s.a,{container:!0,justify:"center",alignContent:"center",style:{height:"100vh"}},b?r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(j,null)):r.a.createElement(r.a.Fragment,null,R&&r.a.createElement(s.a,{item:!0},r.a.createElement(o.a,{variant:"h4"},"\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438 \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432 \u0434\u0435\u0440\u0436\u043e\u0440\u0433\u0430\u043d\u0430\u043c\u0438"),r.a.createElement(o.a,{variant:"h3",color:"textSecondary",align:"center"},"2020")),r.a.createElement(s.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(v,{updateResultsCallback:c})),r.a.createElement(s.a,{item:!0,xs:12},!R&&(L?r.a.createElement(s.a,{container:!0,alignContent:"center",justify:"center",spacing:1,style:{textAlign:"center",height:"80vh"}},r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(o.a,{variant:"h5",color:"textPrimary"},"\u0417\u0430 \u0432\u0430\u0448\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043e\u0431'\u0454\u043a\u0442\u0456\u0432 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043e\u043a")),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(o.a,{variant:"caption",color:"textSecondary"},"\u041f\u0456\u0434\u043f\u0438\u0448\u0456\u0442\u044c\u0441\u044f \u043d\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u0441\u043f\u043e\u0432\u0456\u0449\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u043e\u044f\u0432\u0443 \u0432\u0430\u0448\u043e\u0433\u043e \u043f\u0456\u0434\u043f\u0440\u0438\u0454\u043c\u0441\u0442\u0432\u0430 \u0432 \u0441\u043f\u0438\u0441\u043a\u0443.")),r.a.createElement(s.a,{item:!0,xs:12,style:{padding:16}},r.a.createElement(m.a,{error:N,variant:"outlined",disabled:C,label:N?"\u041f\u043e\u043c\u0438\u043b\u043a\u0430":"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430",helperText:N?"\u0412\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u0435\u0432\u0456\u0440\u043d\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u043f\u043e\u0448\u0442\u0430":void 0,placeholder:"stepan.bender@gmail.com",style:{minWidth:300},onChange:T})),r.a.createElement(s.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"contained",size:"large",disabled:C,style:{background:"#37C085",color:"white"},onClick:D},"\u041f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044f"))):r.a.createElement(M,{domains:W,items:I}))),r.a.createElement(d.a,{open:C,autoHideDuration:5e3,onClose:F},r.a.createElement(K,{onClose:F,severity:"success"},"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044f \u043d\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f!"))))},Z=a(106),G=a(206);i.a.render(r.a.createElement(G.a,{theme:Object(Z.a)({palette:{primary:{main:"#607D8B"},secondary:{main:"#FFC107"}}})},r.a.createElement(Q,null)),document.getElementById("root")),document.body.style.margin="0"}},[[117,1,2]]]);
//# sourceMappingURL=main.5e5f98f6.chunk.js.map